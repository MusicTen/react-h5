{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","pages/HooksDemo/context.js","pages/HooksDemo/Navbar.js","pages/HooksDemo/Messages.js","pages/HooksDemo/PureCom.js","pages/HooksDemo/CommonCom.js","pages/HooksDemo/index.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","AppContext","createContext","Navbar","props","tabItem","useContext","React","createElement","className","Messages","_useContext","username","setAwesome","onClick","PureCom","_React$PureComponent","_inherits","_super","_createSuper","_classCallCheck","_createClass","this","option","a","PureComponent","CommonCom","_React$Component","Component","HooksDemo","_useState2","useState","awesome","_useReducer2","useReducer","state","action","type","_objectSpread","count","console","log","dispatch","_useState4","person","setPerson","useEffect","fetch","concat","then","response","json","data","Provider","aa","height","mass","style","backgroundColor","textAlign","padding"],"mappings":"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","file":"static/js/6.7e4bd01d.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { createContext } from 'react'\r\n\r\nconst AppContext = createContext({})\r\n// React.createContext(defaultValue)\r\n// 如果匹配不到最新的 Provider 则会使用默认值，默认值(defaultValue)一般只有在对组件进行单元测试（组件并未嵌入到父组件中）的时候，比较有用\r\n\r\nexport default AppContext\r\n\r\n// 如果要使用创建的上下文，需要通过 Context.Provider 最外层包装组件，并且需要显示的通过 <MyContext.Provider value={{xx:xx}}> 的方式传入 value，指定 context 要对外暴露的信息。\r\n// Provider 接收一个 value 属性，传递给消费组件。\r\n// 一个 Provider 可以和多个消费组件有对应关系。\r\n// 多个 Provider 也可以嵌套使用，里层的会覆盖外层的数据。\r\n\r\n// 当 Provider 的 value 值发生变化时，它内部的所有消费组件都会重新渲染。\r\n// Provider 及其内部 consumer 组件都不受制于 shouldComponentUpdate 函数，因此当 consumer 组件在其祖先组件退出更新的情况下也能更新\r\n","import React, { useContext } from 'react'\r\nimport AppContext from './context'\r\n\r\nexport default function Navbar(props) {\r\n  // console.log('父子传值:', props)\r\n  const { tabItem } = useContext(AppContext)\r\n  return (\r\n    <div className=\"navbar\">\r\n      <p>AwesomeSite</p>\r\n      <p>{ tabItem }</p>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport AppContext from './context'\r\n\r\nexport default function Messages() {\r\n  const { username, setAwesome } = useContext(AppContext)\r\n\r\n  return (\r\n    <div className=\"messages\">\r\n      <h1>Messages</h1>\r\n      <p><span>{ username }</span>useContext is awesome!</p>\r\n      <button onClick={() => setAwesome(456)}>Messages更新父组件userName</button>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class PureCom extends React.PureComponent {\r\n  static propTypes = {\r\n    option: PropTypes.object\r\n  }\r\n  \r\n  render() {\r\n    // console.log('PureComponent render', this.props)\r\n    return <div>这是 PureComponent测试 组件，props.option.a:{this.props.option.a}</div>\r\n  }\r\n}\r\n/* \r\n  React创建了PureComponent组件创建了默认的shouldComponentUpdate行为。\r\n  这个默认的shouldComponentUpdate行为会一一比较props和state中所有的属性，只有当其中任意一项发生改变是，才会进行重绘。\r\n  需要注意的是，PureComponent使用 浅比较 判断组件是否需要重绘\r\n  如果对象包含复杂的数据结构，它可能会因深层的数据不一样而产生错误的判断（表现为对象深层的数据已改变视图却没有更新）\r\n  为了避免出现这种问题，推荐使用immutable.js （持久化数据结构）\r\n*/","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class CommonCom extends React.Component {\r\n  static propTypes = {\r\n    option: PropTypes.object\r\n  }\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   if (this.props.option === nextProps.option) {\r\n  //     return false\r\n  //   } else {\r\n  //     return true\r\n  //   }\r\n  // }\r\n  /* \r\n    在React Component的生命周期中，有一个shouldComponentUpdate方法。这个方法默认返回值是true。\r\n    这意味着就算没有改变组件的props或者state，也会导致组件的重绘。这就经常导致组件因为不相关数据的改变导致重绘，这极大的降低了React的渲染效率。\r\n  */\r\n  render() {\r\n    // console.log('CommonCom render', this.props)\r\n    return <div>这是 CommonCom测试 组件，props.option.a:{this.props.option.a}</div>\r\n  }\r\n}","import React, { useState, useReducer, useEffect } from 'react'\r\n\r\n// React Hooks 的设计目的，就是加强版函数组件，完全不使用\"类\"，就能写出一个全功能的组件\r\n\r\n// React Hooks 的意思是，组件尽量写成纯函数，如果需要外部功能和副作用，就用钩子把外部代码\"钩\"进来\r\n// React Hooks 就是那些钩子\r\n// React 默认提供了一些常用钩子，你也可以封装自己的钩子\r\n\r\n// React 默认提供的四个最常用的钩子:\r\n/* \r\n  useState()：状态钩子\r\n  useContext()：共享状态钩子\r\n  useReducer()：action 钩子\r\n  useEffect()：副作用钩子\r\n*/\r\n\r\n// 所有的钩子都是为函数引入外部功能，所以 React 约定，钩子一律使用use前缀命名，便于识别。你要使用 xxx 功能，钩子就命名为 usexxx。\r\n\r\nimport Navbar from './Navbar'\r\nimport Messages from './Messages'\r\nimport PureCom from './PureCom'\r\nimport CommonCom from './CommonCom'\r\n\r\nimport './index.scss'\r\n\r\nimport AppContext from './context'\r\n\r\nlet option = {a: 1}\r\n\r\nexport default function HooksDemo() {\r\n  /* \r\n    useState() 这个函数接受状态的初始值，作为参数，下例的初始值为按钮的文字。\r\n    该函数返回一个数组，数组的第一个成员是一个变量（下例是awesome），指向状态的当前值。\r\n    第二个成员是一个函数，用来更新状态，约定是set前缀加上状态的变量名（下例是setAwesome）\r\n  */\r\n  const [awesome, setAwesome] = useState('awesome')\r\n  function handleClick() {\r\n    if (awesome === 'ahaha') return\r\n    setAwesome('ahaha')\r\n  }\r\n  /* \r\n    React 本身不提供状态管理功能，通常需要使用外部库。这方面最常用的库是 Redux\r\n    下面是 useReducer() 的基本用法，它接受 Reducer 函数和状态的初始值作为参数，返回一个数组\r\n    数组的第一个成员是状态的当前值，第二个成员是发送 action 的dispatch函数\r\n  */\r\n  const [state, dispatch] = useReducer(myReducer, { count: 0 })\r\n  function myReducer(state, action) {\r\n    switch (action.type) {\r\n      case 'countUp':\r\n        return {\r\n          ...state,\r\n          count: state.count + 1\r\n        }\r\n      default:\r\n        console.log(action)\r\n        return state\r\n    }\r\n  }\r\n  /* \r\n    useEffect()用来引入具有副作用的操作，最常见的就是向服务器请求数据\r\n    以前，放在componentDidMount里面的代码，现在可以放在useEffect()\r\n  */\r\n  const personId = 1\r\n  const [person, setPerson] = useState({})\r\n  useEffect(() => {\r\n    fetch(`https://swapi.co/api/people/${personId}/`)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setPerson(data)\r\n      })\r\n  }, [personId])\r\n\r\n  // const [option, setOption] = useState({a: 1})\r\n  // function handleOption() {\r\n  //   setOption({a: '1'})\r\n  // }\r\n  function handleOption() {\r\n    option = {a: 2}\r\n    console.log(234, option)\r\n  }\r\n  return (\r\n    /* \r\n      AppContext.Provider提供了一个 Context 对象，这个对象可以被子组件共享\r\n      子组件中用 useContext() 钩子函数用来引入 Context 对象，从中获取username属性\r\n    */\r\n    <AppContext.Provider\r\n      value={{\r\n        tabItem: 'super',\r\n        username: awesome,\r\n        setAwesome // 通过 Provider.value 将方法提供出去\r\n      }}\r\n    >\r\n      <div className=\"App\">\r\n        <Navbar name=\"123\">{{ aa: 789 }}</Navbar>\r\n        <Messages />\r\n        <div className=\"useState\">\r\n          <button onClick={handleClick}>改变username</button>\r\n        </div>\r\n        <div className=\"useReducer\">\r\n          <button onClick={() => dispatch({ type: 'countUp' })}>+1</button>\r\n          <button onClick={() => dispatch({})}>+1</button>\r\n          <p>Count: {state.count}</p>\r\n        </div>\r\n        <div className=\"useEffect\">\r\n          <p>You're viewing: {person.name}</p>\r\n          <p>Height: {person.height}</p>\r\n          <p>Mass: {person.mass}</p>\r\n        </div>\r\n        <div style={{backgroundColor: \"skyblue\", textAlign: 'center', padding: '10px 0'}}>\r\n          <button onClick={() => { handleOption() }}>更改option</button>\r\n          <PureCom option={option} />\r\n          <CommonCom option={option} />\r\n        </div>\r\n      </div>\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n"],"sourceRoot":""}